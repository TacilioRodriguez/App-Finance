<ion-header>
  <ion-navbar>
    <ion-title>Adicionar despesa</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <form [formGroup]="entryForm">
<ion-list>

    <ion-item>
      <input type="tel"
      name ="amount"
      formControlName ="amount" 
      [(ngModel)]= "entry.amount"
      currencyMask [options]="{ prefix: 'R$ ', thousands: '.', decimal: ',' }"/>
     
    </ion-item>


      <!-- Validação de campo sem preenchimento -->
    <ion-item class="error"
        no-lines *ngIf="entryForm.controls.amount.hasError('required') && entryForm.controls.amount.touched">
      <!-- Caso a condição acima for verdadeira -->
      <span>O campo de valor é obrigatório!</span>
    </ion-item>

<ion-item>
      <ion-label>Categoria</ion-label>
      <ion-select name ="category_id" 
        formControlName ="category_id" 
        [(ngModel)]="entry.category_id">
        <ion-option value=" ">Selecione uma opção</ion-option>
        <ion-option value="1">Lazer</ion-option>
        <ion-option value="2">Alimentação</ion-option>
        <ion-option value="3">Agua</ion-option>
        <ion-option value="4">Luz</ion-option>
        <ion-option value="5">Combustivel</ion-option>
    </ion-select>
</ion-item>

<!-- Validação de campo sem preenchimento -->
<ion-item class="error"
  no-lines *ngIf="entryForm.controls.category_id.hasError('required') && entryForm.controls.category_id.touched">
    <!-- Caso a condição acima for verdadeira -->
    <span>O campo de categoria deve ser selecionado!</span>
</ion-item>

      <button ion-button [disabled]="!entryForm.valid" (click)="submitForm()">Adicionar</button>
    </ion-list>
  </form>
</ion-content>
